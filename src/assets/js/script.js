const navbar=document.querySelector('.navbar');const navMenu=document.querySelector('.nav-menu');const hamburger=document.querySelector('.hamburger');const navLinks=document.querySelectorAll('.nav-link');hamburger.addEventListener('click',()=>{navMenu.classList.toggle('active');hamburger.classList.toggle('active')});navLinks.forEach(link=>{link.addEventListener('click',()=>{navMenu.classList.remove('active');hamburger.classList.remove('active')})});window.addEventListener('scroll',()=>{if(window.scrollY>100){navbar.style.background='rgba(15,23,42,0.98)';navbar.style.boxShadow='0 10px 30px rgba(0,0,0,0.3)'}else{navbar.style.background='rgba(15,23,42,0.95)';navbar.style.boxShadow='0 10px 15px-3px rgba(0,0,0,0.1)'}});const sections=document.querySelectorAll('.section,.hero');const updateActiveNav=()=>{let current='';sections.forEach(section=>{const sectionTop=section.offsetTop;const sectionHeight=section.clientHeight;if(window.scrollY>=(sectionTop-200)){current=section.getAttribute('id')}});navLinks.forEach(link=>{link.classList.remove('active');if(link.getAttribute('href').substring(1)===current){link.classList.add('active')}})};window.addEventListener('scroll',updateActiveNav);window.addEventListener('load',updateActiveNav);const sections_query=document.querySelectorAll('.section,.hero');if(sections_query.length>0&&window.scrollY===0&&!window.location.hash){updateActiveNav()}navLinks.forEach(link=>{link.addEventListener('click',(e)=>{e.preventDefault();const targetId=link.getAttribute('href');const targetSection=document.querySelector(targetId);if(targetSection){const offsetTop=targetSection.offsetTop-70;window.scrollTo({top:offsetTop,behavior:'smooth'})}})});const scrollDownBtn=document.querySelector('.scroll-down a');if(scrollDownBtn){scrollDownBtn.addEventListener('click',(e)=>{e.preventDefault();const aboutSection=document.querySelector('#about');if(aboutSection){const offsetTop=aboutSection.offsetTop-70;window.scrollTo({top:offsetTop,behavior:'smooth'})}})}const scrollTopBtn=document.getElementById('scrollTop');window.addEventListener('scroll',()=>{if(window.scrollY>300){scrollTopBtn.classList.add('active')}else{scrollTopBtn.classList.remove('active')}});scrollTopBtn.addEventListener('click',()=>{window.scrollTo({top:0,behavior:'smooth'})});const observerOptions={threshold:0.1,rootMargin:'0px 0px-100px 0px'};const observer=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.style.opacity='1';entry.target.style.transform='translateY(0)'}})},observerOptions);const animateElements=document.querySelectorAll('.timeline-item,.skill-category,.stat-item,.education-card,.about-text');animateElements.forEach(el=>{el.style.opacity='0';el.style.transform='translateY(30px)';el.style.transition='opacity 0.6s ease,transform 0.6s ease';observer.observe(el)});const contactForm=document.getElementById('contactForm');if(contactForm){contactForm.addEventListener('submit',(e)=>{e.preventDefault();const formData=new FormData(contactForm);const name=contactForm.querySelector('input[type="text"]').value;const email=contactForm.querySelector('input[type="email"]').value;const subject=contactForm.querySelectorAll('input[type="text"]')[1].value;const message=contactForm.querySelector('textarea').value;const mailtoLink=`mailto:l5r@outlook.sa?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(`Name:${name}\nEmail:${email}\n\nMessage:\n${message}`)}`;window.location.href=mailtoLink;showNotification('Message prepared!Your email client will open.','success');contactForm.reset()})}function showNotification(message,type='info'){const notification=document.createElement('div');notification.className=`notification notification-${type}`;notification.innerHTML=`<i class="fas fa-${type==='success'?'check-circle':'info-circle'}"></i><span>${message}</span>`;notification.style.cssText=` position:fixed;top:100px;right:20px;background:${type==='success'?'#10b981':'#3b82f6'};color:white;padding:16px 24px;border-radius:8px;box-shadow:0 10px 25px rgba(0,0,0,0.2);display:flex;align-items:center;gap:12px;z-index:10000;animation:slideIn 0.3s ease;font-family:'Poppins',sans-serif;`;document.body.appendChild(notification);setTimeout(()=>{notification.style.animation='slideOut 0.3s ease';setTimeout(()=>notification.remove(),300)},3000)}const style=document.createElement('style');style.textContent=` @keyframes slideIn{from{transform:translateX(400px);opacity:0}to{transform:translateX(0);opacity:1}}@keyframes slideOut{from{transform:translateX(0);opacity:1}to{transform:translateX(400px);opacity:0}}`;document.head.appendChild(style);const skillTags=document.querySelectorAll('.skill-tag');skillTags.forEach((tag,index)=>{tag.style.opacity='0';tag.style.transform='scale(0.8)';tag.style.transition=`opacity 0.3s ease ${index*0.05}s,transform 0.3s ease ${index*0.05}s`});const skillObserver=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if(entry.isIntersecting){const tags=entry.target.querySelectorAll('.skill-tag');tags.forEach(tag=>{tag.style.opacity='1';tag.style.transform='scale(1)'})}})},observerOptions);const skillCategories=document.querySelectorAll('.skill-category');skillCategories.forEach(category=>{skillObserver.observe(category)});const animateCounter=(element,target,suffix='')=>{let current=0;const increment=target/50;const timer=setInterval(()=>{current+=increment;if(current>=target){element.textContent=target+suffix;clearInterval(timer)}else{element.textContent=Math.floor(current)+suffix}},30)};const statsObserver=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if(entry.isIntersecting){const statItems=entry.target.querySelectorAll('.stat-item h4');statItems.forEach(item=>{const text=item.textContent;const match=text.match(/(\d+)([+%]?)/);if(match){const number=parseInt(match[1]);const suffix=match[2];item.textContent='0'+suffix;animateCounter(item,number,suffix)}});statsObserver.unobserve(entry.target)}})},observerOptions);const aboutStats=document.querySelector('.about-stats');if(aboutStats){statsObserver.observe(aboutStats)}const timelineItems=document.querySelectorAll('.timeline-item');timelineItems.forEach((item,index)=>{item.style.opacity='0';item.style.transform='translateX(-50px)';item.style.transition=`opacity 0.5s ease ${index*0.2}s,transform 0.5s ease ${index*0.2}s`});const timelineObserver=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.style.opacity='1';entry.target.style.transform='translateX(0)'}})},observerOptions);timelineItems.forEach(item=>{timelineObserver.observe(item)});const downloadButtons=document.querySelectorAll('a[download]');downloadButtons.forEach(btn=>{btn.addEventListener('click',()=>{showNotification('Downloading CV...','success');if(typeof gtag!=='undefined'){gtag('event','download',{'event_category':'CV','event_label':'Ahmed_Alzahrani_CV.pdf'})}})});window.addEventListener('scroll',()=>{const scrolled=window.scrollY;const heroContent=document.querySelector('.hero-content');if(heroContent&&scrolled<window.innerHeight){heroContent.style.transform=`translateY(${scrolled*0.5}px)`;heroContent.style.opacity=1-(scrolled/600)}});const colors={purple:{primary:'#6366f1',secondary:'#0ea5e9'},blue:{primary:'#3b82f6',secondary:'#06b6d4'},green:{primary:'#10b981',secondary:'#059669'},orange:{primary:'#f59e0b',secondary:'#ea580c'},pink:{primary:'#ec4899',secondary:'#db2777'}};function changeThemeColor(colorName){if(colors[colorName]){document.documentElement.style.setProperty('--primary-color',colors[colorName].primary);document.documentElement.style.setProperty('--secondary-color',colors[colorName].secondary);localStorage.setItem('theme-color',colorName)}}const savedColor=localStorage.getItem('theme-color');if(savedColor){changeThemeColor(savedColor)}console.log(` %c █████╗ ██╗ ██╗███╗ ███╗███████╗██████╗ ██╔══██╗██║ ██║████╗ ████║██╔════╝██╔══██╗ ███████║███████║██╔████╔██║█████╗ ██║ ██║ ██╔══██║██╔══██║██║╚██╔╝██║██╔══╝ ██║ ██║ ██║ ██║██║ ██║██║ ╚═╝ ██║███████╗██████╔╝ ╚═╝ ╚═╝╚═╝ ╚═╝╚═╝ ╚═╝╚══════╝╚═════╝ `,'color:#6366f1;font-weight:bold;');console.log('%cWelcome to Ahmed Alzahrani\'s Portfolio!','color:#0ea5e9;font-size:16px;font-weight:bold;');console.log('%cInterested in working together?Let\'s connect!','color:#10b981;font-size:14px;');console.log('%cEmail:l5r@outlook.sa','color:#f59e0b;font-size:12px;');window.addEventListener('error',(e)=>{console.error('An error occurred:',e.message)});const lazyImages=document.querySelectorAll('img[data-src]');const imageObserver=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if(entry.isIntersecting){const img=entry.target;img.src=img.dataset.src;img.classList.add('loaded');imageObserver.unobserve(img)}})});lazyImages.forEach(img=>imageObserver.observe(img));window.addEventListener('load',()=>{document.body.classList.add('loaded');setTimeout(()=>{},1000)});document.querySelectorAll('.btn,.social-icon,.nav-link').forEach(el=>{el.addEventListener('keypress',(e)=>{if(e.key==='Enter'){el.click()}})});document.addEventListener('keydown',(e)=>{if(e.key==='Tab'){document.body.classList.add('keyboard-nav')}});document.addEventListener('mousedown',()=>{document.body.classList.remove('keyboard-nav')});console.log('%c✨ Portfolio loaded successfully!','color:#10b981;font-size:14px;font-weight:bold;');